<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Password Strength Checker</title>
  <style>
    :root {
      --bg: #0f172a;           /* slate-900 */
      --panel: #111827;        /* gray-900 */
      --muted: #9ca3af;        /* gray-400 */
      --text: #e5e7eb;         /* gray-200 */
      --accent: #22d3ee;       /* cyan-400 */
      --weak: #ef4444;         /* red-500 */
      --moderate: #f59e0b;     /* amber-500 */
      --strong: #22c55e;       /* green-500 */
      --ring: rgba(34, 211, 238, 0.25);
      --radius: 18px;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0; padding: 24px; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1200px 800px at 20% 0%, #0b1024, var(--bg));
      color: var(--text);
      min-height: 100svh;
      display: grid; place-items: center;
    }

    .card {
      width: min(680px, 92vw);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,.08);
      border-radius: var(--radius);
      padding: 28px;
      box-shadow: 0 20px 60px rgba(0,0,0,.35);
      backdrop-filter: blur(8px);
    }

    h1 { margin: 0 0 8px; font-size: clamp(22px, 2.6vw, 30px); letter-spacing: 0.2px; }
    p.sub { margin: 0 0 20px; color: var(--muted); }

    .row { display: grid; grid-template-columns: 1fr auto; gap: 12px; align-items: center; }

    .input {
      position: relative; display: flex; align-items: center;
      background: #0b1224; border: 1px solid rgba(255,255,255,.08);
      border-radius: 14px; padding: 10px 14px;
      outline: none; transition: box-shadow .2s, border-color .2s;
    }
    .input:focus-within { border-color: var(--accent); box-shadow: 0 0 0 6px var(--ring); }
    .input input {
      flex: 1; background: transparent; border: 0; color: var(--text);
      font-size: 16px; outline: none; padding: 6px 0;
    }
    .input button {
      background: #111a33; color: var(--text); border: 1px solid rgba(255,255,255,.08);
      border-radius: 10px; padding: 8px 12px; cursor: pointer; font-weight: 600;
    }

    .policy {
      display: inline-grid; grid-auto-flow: column; gap: 8px; background: #0b1224;
      border: 1px solid rgba(255,255,255,.08); padding: 6px; border-radius: 12px; align-items: center;
    }
    .policy label { padding: 6px 10px; border-radius: 8px; cursor: pointer; color: var(--muted); font-weight: 600; }
    .policy input { display: none; }
    .policy input:checked + span { background: rgba(34,211,238,.12); color: var(--text); border: 1px solid rgba(34,211,238,.45); padding: 6px 10px; border-radius: 8px; }

    .meter-wrap { margin: 14px 0 10px; height: 12px; background: #0b1224; border: 1px solid rgba(255,255,255,.08); border-radius: 999px; overflow: hidden; }
    .meter { height: 100%; width: 0%; transition: width .25s ease, background .25s ease; }
    .meter.weak { background: var(--weak); }
    .meter.moderate { background: var(--moderate); }
    .meter.strong { background: var(--strong); }

    .legend { display: flex; justify-content: space-between; align-items: center; font-size: 14px; color: var(--muted); }
    .badge { font-weight: 800; letter-spacing: .4px; padding: 6px 10px; border-radius: 999px; border: 1px solid rgba(255,255,255,.08); }

    .checks { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 10px; margin-top: 12px; }
    .check { display: flex; gap: 10px; align-items: center; padding: 10px 12px; background: #0b1224; border: 1px solid rgba(255,255,255,.06); border-radius: 12px; color: var(--muted); }
    .check.ok { color: #c7f9cc; border-color: rgba(34,197,94,.35); }

    .helper { margin-top: 16px; font-size: 14px; color: var(--muted); }
    .helper code { background: #0b1224; padding: 2px 6px; border-radius: 6px; border: 1px solid rgba(255,255,255,.08); }

    .footer { margin-top: 18px; display: flex; gap: 8px; flex-wrap: wrap; }
    .footer button { cursor: pointer; padding: 10px 12px; border-radius: 10px; border: 1px solid rgba(255,255,255,.08); background: #0b1224; color: var(--text); font-weight: 700; }
  </style>
</head>
<body>
  <div class="card">
    <h1>Password Strength Checker</h1>
    <p class="sub">Choose the minimum policy (8 or 16 chars) and type a password to see if it's <strong>Weak</strong>, <strong>Moderate</strong>, or <strong>Strong</strong>.</p>

    <div class="row" style="margin-bottom: 12px;">
      <div class="policy" role="radiogroup" aria-label="Minimum length policy">
        <label>
          <input type="radio" name="minPolicy" value="8" checked>
          <span>Min 8</span>
        </label>
        <label>
          <input type="radio" name="minPolicy" value="16">
          <span>Min 16</span>
        </label>
      </div>
      <div class="policy" style="gap:0;">
        <label style="display:flex; align-items:center; gap:8px; padding:6px 10px;">
          <input id="show" type="checkbox" />
          <span>Show</span>
        </label>
      </div>
    </div>

    <div class="input">
      <input id="pwd" type="password" placeholder="Type your password…" autocomplete="new-password" aria-label="Password" />
      <button id="gen">Generate</button>
    </div>

    <div class="meter-wrap" aria-hidden="true">
      <div id="meter" class="meter"></div>
    </div>

    <div class="legend">
      <div id="label">Start typing…</div>
      <div id="scoreBadge" class="badge">—</div>
    </div>

    <div class="checks" id="checks">
      <div class="check" id="check-len">• Meets minimum length</div>
      <div class="check" id="check-lower">• Contains lowercase (a–z)</div>
      <div class="check" id="check-upper">• Contains uppercase (A–Z)</div>
      <div class="check" id="check-digit">• Contains number (0–9)</div>
      <div class="check" id="check-symbol">• Contains symbol (!@#$…)</div>
      <div class="check" id="check-repeat">• No obvious repeats (aaa, 1111)</div>
      <div class="check" id="check-common">• Not a common/keyboard pattern</div>
    </div>

    <p class="helper">Tip: Longer + variety wins. Aim for a passphrase with 4+ random words or 16+ mixed characters. Avoid <code>password</code>, <code>qwerty</code>, birthdays, or names.</p>

    <div class="footer">
      <button id="copy">Copy</button>
      <button id="clear">Clear</button>
    </div>
  </div>

  <script>
    const pwd = document.getElementById('pwd');
    const show = document.getElementById('show');
    const meter = document.getElementById('meter');
    const label = document.getElementById('label');
    const scoreBadge = document.getElementById('scoreBadge');
    const checks = {
      len: document.getElementById('check-len'),
      lower: document.getElementById('check-lower'),
      upper: document.getElementById('check-upper'),
      digit: document.getElementById('check-digit'),
      symbol: document.getElementById('check-symbol'),
      repeat: document.getElementById('check-repeat'),
      common: document.getElementById('check-common'),
    };

    const policyRadios = [...document.querySelectorAll('input[name="minPolicy"]')];
    const copyBtn = document.getElementById('copy');
    const clearBtn = document.getElementById('clear');
    const genBtn = document.getElementById('gen');

    const commonPatterns = [
      'password','passw0rd','admin','letmein','welcome','iloveyou','monkey','dragon','qwerty','qwertyuiop','asdfgh','zxcvbn',
      'abc123','123456','111111','123123','1234','12345','12345678','0000','000000','india','bharat','omg','god'
    ];

    function classify(password, minLen) {
      const length = password.length;
      const hasLower = /[a-z]/.test(password);
      const hasUpper = /[A-Z]/.test(password);
      const hasDigit = /\d/.test(password);
      const hasSymbol = /[^A-Za-z0-9]/.test(password);
      const noRepeat = !/(.)\1{2,}/.test(password); // 3+ repeats

      const lowered = password.toLowerCase();
      const hasCommon = commonPatterns.some(p => lowered.includes(p));
      const hasKeyboard = /(qwerty|asdf|zxcv|12345|09876)/i.test(password);

      // Base score
      let score = 0;
      // Length scoring relative to policy
      if (length >= minLen) score += 2;
      if (length >= minLen + 4) score += 1;
      if (length >= 16) score += 2; // reward long passphrases

      // Character set variety
      const variety = [hasLower, hasUpper, hasDigit, hasSymbol].filter(Boolean).length;
      score += Math.max(0, variety - 1); // 0..3 points

      // Bonuses for no obvious issues
      if (noRepeat) score += 1;

      // Penalties
      if (hasCommon) score -= 3;
      if (hasKeyboard) score -= 2;

      // Clamp score
      score = Math.max(0, Math.min(10, score));

      // Determine band
      let band = 'Weak';
      let pct = Math.min(100, Math.round((score / 10) * 100));

      if (length < minLen) {
        band = 'Weak';
        pct = Math.min(pct, 30);
      } else if (score >= 7) {
        band = 'Strong';
        pct = Math.max(70, pct);
      } else if (score >= 4) {
        band = 'Moderate';
        pct = Math.max(45, Math.min(70, pct));
      } else {
        band = 'Weak';
        pct = Math.min(45, pct);
      }

      return {
        band, pct, score,
        details: { length, hasLower, hasUpper, hasDigit, hasSymbol, noRepeat, hasCommon: (hasCommon || hasKeyboard) }
      };
    }

    function updateChecks(d, minLen) {
      checks.len.classList.toggle('ok', d.details.length >= minLen);
      checks.lower.classList.toggle('ok', d.details.hasLower);
      checks.upper.classList.toggle('ok', d.details.hasUpper);
      checks.digit.classList.toggle('ok', d.details.hasDigit);
      checks.symbol.classList.toggle('ok', d.details.hasSymbol);
      checks.repeat.classList.toggle('ok', d.details.noRepeat);
      checks.common.classList.toggle('ok', !d.details.hasCommon);
    }

    function updateUI() {
      const minLen = Number(policyRadios.find(r => r.checked).value);
      const val = pwd.value;
      const d = classify(val, minLen);

      meter.style.width = d.pct + '%';
      meter.classList.remove('weak', 'moderate', 'strong');
      meter.classList.add(d.band.toLowerCase());
      label.textContent = val ? `${d.details.length} chars • Policy: min ${minLen}` : 'Start typing…';
      scoreBadge.textContent = d.band;

      updateChecks(d, minLen);
    }

    function randomChar(set) { return set[Math.floor(Math.random() * set.length)]; }
    function generate(minLen) {
      const lowers = 'abcdefghjkmnpqrstuvwxyz';
      const uppers = 'ABCDEFGHJKMNPQRSTUVWXYZ';
      const digits = '23456789';
      const symbols = '!@#$%^&*()-_=+[]{};:,.?';
      const sets = [lowers, uppers, digits, symbols];

      // Ensure variety
      let pw = [
        randomChar(lowers), randomChar(uppers), randomChar(digits), randomChar(symbols)
      ];
      const target = Math.max(minLen, 16); // default to create strong suggestions
      const all = lowers + uppers + digits + symbols;
      while (pw.length < target) pw.push(randomChar(all));

      // Shuffle
      for (let i = pw.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [pw[i], pw[j]] = [pw[j], pw[i]];
      }
      return pw.join('');
    }

    // Events
    pwd.addEventListener('input', updateUI);
    policyRadios.forEach(r => r.addEventListener('change', () => {
      updateUI();
    }));
    show.addEventListener('change', () => {
      pwd.type = show.checked ? 'text' : 'password';
    });

    copyBtn.addEventListener('click', async () => {
      if (!pwd.value) return;
      try {
        await navigator.clipboard.writeText(pwd.value);
        scoreBadge.textContent = 'Copied!';
        setTimeout(updateUI, 800);
      } catch (e) {
        alert('Copy failed: ' + e.message);
      }
    });

    clearBtn.addEventListener('click', () => {
      pwd.value = '';
      updateUI();
      pwd.focus();
    });

    genBtn.addEventListener('click', () => {
      const minLen = Number(policyRadios.find(r => r.checked).value);
      pwd.value = generate(minLen);
      updateUI();
    });

    // Init
    updateUI();
  </script>
</body>
</html>
